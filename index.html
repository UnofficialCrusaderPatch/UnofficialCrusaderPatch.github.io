<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unofficial Crusader Patch</title>
    <link rel="icon" type="image/png" href="assets/ucp3_32x32.png">
    
    <!-- Custom Stylesheets -->
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/tabs.css">
    <link rel="stylesheet" href="css/content.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script>
    
    <!-- robust YAML tag extraction (optional but safer) -->
    <script src="https://cdn.jsdelivr.net/npm/yaml@2.4.5/dist/yaml.min.js" defer></script>

    <!-- Main JavaScript files -->
    <script src="js/api.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/main.js" defer></script>
</head>
<body>

    <!-- TOP BAR: Fixed at the top -->
    <header id="main-header" class="top-bar">
        <div class="header-controls">
            <div class="header-left">
                <a href="https://github.com/UnofficialCrusaderPatch/UnofficialCrusaderPatch.github.io" target="_blank" class="ucp-button-small"><i class="fab fa-github mr-1"></i> GitHub</a>
                <button id="creditsBtn" class="ucp-button-small"><i class="fas fa-users mr-1"></i> Credits</button>
            </div>
            <button id="downloadBtn" class="ucp-button-download">Download Now</button>
            <div class="header-right">
                <!-- NEW WRAPPER for language menu -->
                <div class="language-select-wrapper">
                    <i class="fas fa-globe"></i>
                    <select id="languageSelector" class="ucp-select">
                        <!-- Options will be populated by JS -->
                    </select>
                </div>
            </div>
        </div>
        <nav id="tab-nav" class="tab-bar">
            <button data-tab="overview" class="ucp-tab active">Overview</button>
            <button data-tab="news" class="ucp-tab">News</button>
            <button data-tab="store" class="ucp-tab">Content</button>
            <button data-tab="ai-format" class="ucp-tab">AI Format</button>
            <button data-tab="faq" class="ucp-tab">FAQ</button>
        </nav>
    </header>

    <!-- CENTRAL CONTENT: This is the only part that will scroll -->
    <div class="content-wrapper">
        <main id="tab-content-area" class="main-content">
            <!-- A parchment-box will be injected here by JS -->
        </main>
    </div>

    <!-- FOOTER: Fixed at the bottom -->
    <footer class="footer-bar">
        <span id="footer-version-info">loading versions…</span>
    </footer>
    
    <!-- Credits Modal -->
    <div id="creditsModal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="ucp-header-font">Credits & License</h2>
                <button id="closeCreditsBtn" class="modal-close-btn">&times;</button>
            </div>
            <div id="creditsContent" class="modal-body">
                <!-- Credits content will be loaded here -->
            </div>
        </div>
    </div>

</body>
</html>
