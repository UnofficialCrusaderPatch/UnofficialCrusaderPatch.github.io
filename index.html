<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unofficial Crusader Patch</title>
    <link rel="icon" type="image/png" href="assets/ucp3_32x32.png">

    <!-- Security Policy Slip -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://www.youtube.com https://s.ytimg.com;
        style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
        img-src 'self' data: https://i.ytimg.com;
        font-src 'self' https://cdnjs.cloudflare.com;
        frame-src 'self' https://www.youtube.com;
        connect-src 'self' https:;
    ">   

    <!-- Custom stylesheets -->
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/tabs.css">
    <link rel="stylesheet" href="css/content.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

<!-- ─────────── TOP BAR ─────────── -->
<header id="main-header" class="top-bar">
    <div class="header-controls">
        <div class="header-left">
            <a id="btnGithub" href="https://github.com/UnofficialCrusaderPatch/UnofficialCrusaderPatch"
                target="_blank" class="ucp-button-small">
                <i class="fab fa-github mr-1"></i><span data-i18n="btn_github">GitHub</span>
            </a>
            <button id="creditsBtn" class="ucp-button-small">
                <i class="fas fa-users mr-1"></i><span data-i18n="btn_credits">Credits</span>
            </button>
        </div>
        <button id="downloadBtn" class="ucp-button-download">
            <img src="assets/ucp3/ucp3_logo_gro_v3.png" alt="UCP Shield Logo" class="download-logo-overlay">
            <span data-i18n="btn_download">Download Now</span>
        </button>
        <div class="header-right">
            <div class="language-select-wrapper">
                <i class="fas fa-globe"></i>
                <select id="languageSelector" class="ucp-select"></select>
            </div>
        </div>
    </div>

    <!-- TAB BAR -->
    <nav id="tab-nav" class="tab-bar">
        <button id="tabOverview"  data-tab="overview"  class="ucp-tab active"><span data-i18n="tab_overview">Overview</span></button>
        <button id="tabNews"      data-tab="news"      class="ucp-tab"><span data-i18n="tab_news">News</span></button>
        <button id="tabStore"     data-tab="store"     class="ucp-tab"><span data-i18n="tab_store">Content</span></button>
        <button id="tabWiki"      data-tab="wiki"      class="ucp-tab"><span data-i18n="tab_wiki">Wiki</span></button>
        <button id="tabFaq"       data-tab="faq"       class="ucp-tab"><span data-i18n="tab_faq">FAQ</span></button>
    </nav>
</header>

<!-- ─────────── MAIN CONTENT ─────────── -->
<div class="content-wrapper">
    <main id="tab-content-area" class="main-content"></main>
</div>

<!-- ─────────── FOOTER ─────────── -->
<footer class="footer-bar">
    <span id="footer-version-info" data-i18n="footer_loading">loading versions…</span>
</footer>

<!-- ─────────── CREDITS MODAL ─────────── -->
<div id="creditsModal" class="modal-overlay hidden">
    <!-- This div is now a parchment-box itself -->
    <div class="modal-content parchment-box">
        
        <!-- This is the new scrollable area -->
        <div class="parchment-content-wrapper">
            <div class="modal-header">
                <h2 id="modalCreditsTtl" class="ucp-header-font" data-i18n="modal_credits_ttl">Credits & License</h2>
                <button id="closeCreditsBtn" class="modal-close-btn">&times;</button>
            </div>
            <!-- The markdown content will be injected here -->
            <div id="creditsContent" class="prose"></div>
        </div>

        <!-- The custom scrollbar will be added here by CSS -->
        <div class="custom-scrollbar">
            <div class="scrollbar-top"></div>
            <div class="scrollbar-track">
                <div class="chain-visuals"></div>
            </div>
        </div>

    </div>
</div>

<!-- SCRIPTS: Load libraries first, then your application code. No 'defer'. -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<!-- Main JavaScript files -->
<!-- <script src="js/config.js"></script> -->
<script src="js/api.js"></script>
<script src="js/ui.js"></script>
<script src="js/main.js"></script>

</body>
</html>
